<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WebAPIæ–‡æ¡£ - ChenLianÂ® å¼€æ”¾å¹³å°</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- Marked.js for Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>
  </head>
  <body>
    <nav class="navbar">
      <div class="nav-container">
        <a href="index.html" class="nav-logo">ChenLianÂ®å¼€æ”¾å¹³å°</a>
        <ul class="nav-menu">
          <li><a href="index.html">é¦–é¡µ</a></li>
          <li><a href="overview.html">æ¦‚è¿°</a></li>
          <li><a href="api-guide.html" class="active">APIæ–‡æ¡£</a></li>
          <li><a href="javascript:void(0)" onclick="openDownloadModal()">ä¸‹è½½</a></li>
        </ul>
      </div>
    </nav>

    <div class="docs-container">
      <!-- å·¦ä¾§å¯¼èˆª -->
      <aside class="sidebar">
        <div class="sidebar-content">
          <div style="margin-bottom: 1rem; padding: 0.75rem; background: #f0fdf4; border-left: 3px solid #10b981; border-radius: 4px;">
            <strong style="color: #10b981;">ğŸŒ WebAPI</strong>
            <div style="margin-top: 0.5rem; font-size: 0.9rem;">
              <a href="c-api.html" style="color: var(--secondary-color); text-decoration: none;">
                åˆ‡æ¢åˆ° C API â†’
              </a>
            </div>
          </div>
          <h3>APIåˆ—è¡¨</h3>
          <ul class="api-list" id="apiList">
            <!-- åŠ¨æ€ç”Ÿæˆ -->
          </ul>
        </div>
      </aside>

      <!-- å³ä¾§å†…å®¹åŒº -->
      <main class="content">
        <div id="apiContent" class="markdown-body">
          <h1>WebAPI æ¥å£æ–‡æ¡£</h1>
          <p>è¯·ä»å·¦ä¾§åˆ—è¡¨é€‰æ‹©è¦æŸ¥çœ‹çš„ WebAPI æ¥å£ã€‚</p>
          <div style="background: #f8fafc; border-left: 4px solid #10b981; padding: 1rem; margin: 1.5rem 0; border-radius: 4px;">
            <h3 style="margin-top: 0; color: #10b981;">ğŸŒ å…³äº WebAPI</h3>
            <p>WebAPI åŸºäº RESTful è®¾è®¡ç†å¿µï¼Œæä¾›æ ‡å‡†çš„ HTTP æ¥å£ï¼Œé€‚ç”¨äºå„ç§å¹³å°å’Œç¼–ç¨‹è¯­è¨€ã€‚</p>
            <ul>
              <li>æ”¯æŒ JSON æ ¼å¼çš„è¯·æ±‚å’Œå“åº”</li>
              <li>æ ‡å‡†çš„ HTTP çŠ¶æ€ç </li>
              <li>OAuth 2.0 è®¤è¯æœºåˆ¶</li>
              <li>å®Œå–„çš„é™æµå’Œç›‘æ§</li>
            </ul>
          </div>
        </div>
      </main>
    </div>

    <!-- æ ¸å¿ƒè„šæœ¬ -->
    <script src="footer.js"></script>
    <script src="script.js"></script>

    <!-- Mermaid æµç¨‹å›¾åº“ -->
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ 
        startOnLoad: false,
        theme: 'default',
        themeVariables: {
          primaryColor: '#2563eb',
          primaryTextColor: '#fff',
          primaryBorderColor: '#1e40af',
          lineColor: '#64748b',
          secondaryColor: '#f8fafc',
          tertiaryColor: '#e2e8f0'
        }
      });
      window.mermaid = mermaid;
    </script>

    <!-- APIé…ç½® - åªåŠ è½½ WebAPI ç›¸å…³çš„æ¥å£ -->
    <script>
      // è¿™é‡Œå¯ä»¥é…ç½®ä¸“é—¨çš„ WebAPI è·¯å¾„
      const apiPaths = ["sdk_init"]; // ç¤ºä¾‹ï¼šWebAPI ç›¸å…³çš„é…ç½®è·¯å¾„
      
      (function () {
        let loadedCount = 0;
        let totalCount = apiPaths.length;

        console.log(`å¼€å§‹åŠ è½½ ${totalCount} ä¸ª WebAPI é…ç½®...`);

        apiPaths.forEach(function (apiPath) {
          const script = document.createElement("script");
          script.src = `sdks/${apiPath}/api.js`;
          script.onload = function () {
            loadedCount++;
            if (loadedCount === totalCount) {
              console.log(
                `âœ“ æ‰€æœ‰ WebAPI åŠ è½½å®Œæˆï¼å…± ${window.APIRegistry.getAll().length} ä¸ªæ¥å£`
              );
            }
          };
          script.onerror = function () {
            console.error(`âœ— åŠ è½½å¤±è´¥: sdks/${apiPath}/api.js`);
          };
          document.head.appendChild(script);
        });
      })();
    </script>

    <!-- ä¸‹è½½æ¨¡æ€æ¡† -->
    <div id="downloadModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>SDK ä¸‹è½½</h2>
          <span class="close-btn" onclick="closeDownloadModal()">&times;</span>
        </div>
        <div class="modal-body">
          <p style="text-align: center; margin-bottom: 2rem; color: var(--secondary-color);">é€‰æ‹©é€‚åˆæ‚¨æ“ä½œç³»ç»Ÿçš„SDKç‰ˆæœ¬è¿›è¡Œä¸‹è½½</p>
          <div class="sdk-download-grid">
            <div class="sdk-card">
              <div class="sdk-icon">ğŸ–¥ï¸</div>
              <h3>Windows SDK</h3>
              <p class="sdk-version">v1.0.0</p>
              <p class="sdk-desc">æ”¯æŒ Windows 10/11</p>
              <button class="btn-download" onclick="downloadSDK('windows')">
                <span class="download-icon">â¬‡</span> ä¸‹è½½
              </button>
            </div>

            <div class="sdk-card sdk-card-disabled">
              <div class="sdk-icon">ğŸ§</div>
              <h3>Linux SDK</h3>
              <p class="sdk-version">v1.0.0</p>
              <p class="sdk-desc">æš‚ä¸æ”¯æŒ</p>
              <button class="btn-download" disabled>
                <span class="download-icon">â¬‡</span> ä¸‹è½½
              </button>
            </div>

            <div class="sdk-card sdk-card-disabled">
              <div class="sdk-icon"></div>
              <h3>macOS SDK</h3>
              <p class="sdk-version">v1.0.0</p>
              <p class="sdk-desc">æš‚ä¸æ”¯æŒ</p>
              <button class="btn-download" disabled>
                <span class="download-icon">â¬‡</span> ä¸‹è½½
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
